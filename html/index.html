<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous" />
		<link rel="stylesheet" href="../css/style.css" />
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous" defer></script>
		<script type="module" src="../js/app.js"></script>
		<title>Blog with API</title>
	</head>
	<body>
		<div id="modal" class="modal fade" tabindex="-1" aria-labelledby="modal-label" aria-hidden="true">
			<div class="modal-dialog modal-dialog-scrollable">
				<div id="modal-post" class="modal-content collapse show">
					<div class="modal-header bg-dark text-white">
						<h5 class="modal-title" id="modal-label">Blog Post</h5>
						<button type="button" class="btn-close btn-close-white" data-action="close-modal" aria-label="Close"></button>
					</div>
					<img id="post-image" class="modal-img-height" src="data:," alt="post image" />
					<div id="modal-post-body" class="modal-body collapse show">
						<div class="d-flex justify-content-between gap-3 align-items-start">
							<h4 id="post-title" class="mb-3"></h4>
							<div class="d-flex">
								<button type="button" class="btn btn-sm btn-outline-dark" data-action="load-editor" data-bs-toggle="collapse" data-bs-target="#modal-post, #modal-editor"><i class="bi bi-pen-fill"></i></button>
								<button type="button" class="btn btn-sm btn-outline-dark" data-action="load-delete" data-bs-toggle="collapse" data-bs-target="#modal-post, #modal-delete"><i class="bi bi-trash-fill"></i></button>
							</div>
						</div>
						<p id="post-content"></p>
						<p class="fs-7 text-black-50 text-end m-0"><span id="user-name" class="fw-bold"></span> - <span id="user-email" class="fst-italic"></span></p>
					</div>
					<div class="modal-footer">
						<div class="accordion w-100" id="post-comments-accordion">
							<div class="accordion-item">
								<h2 class="accordion-header" id="post-comments-header">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#post-comments-section, #modal-post-body" aria-expanded="true" aria-controls="post-comments-section">Load Comments</button>
								</h2>
								<div id="post-comments-section" class="accordion-collapse collapse" aria-labelledby="post-comments-header" data-bs-parent="#post-comments-accordion">
									<div class="accordion-body" style="overflow-y: scroll; max-height: 20rem"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="modal-editor" class="modal-content collapse">
					<div class="modal-body">
						<h4 class="mb-3">Edit post</h4>
						<form id="post-editor-form">
							<label for="input-title">Title</label>
							<div class="input-group mb-3">
								<span class="input-group-text">Title</span>
								<input id="input-title" type="text" name="post-title" class="form-control" placeholder="Insert a fancy title..." aria-label="title" minlength="8" />
							</div>
							<label for="input-content">Content</label>
							<div class="input-group">
								<textarea id="input-content" name="post-content" class="form-control fs-7 p-2" rows="5" aria-label="content"></textarea>
							</div>
						</form>
					</div>
					<div class="modal-footer justify-content-center">
						<button type="button" class="btn btn-secondary" data-action="load-post" data-bs-toggle="collapse" data-bs-target="#modal-post, #modal-editor">Go Back</button>
						<button type="button" class="btn btn-primary" data-action="save-post">Save <i class="bi bi-save-fill"></i></button>
					</div>
					<div class="collapse" id="post-editor-ok">
						<div class="card card-body w-100 bg-success text-white">Message has been updated succesfully!</div>
					</div>
					<div class="collapse" id="post-editor-err">
						<div class="card card-body w-100 bg-danger text-white">Something has gone wrong :(</div>
					</div>
				</div>
				<div id="modal-delete" class="modal-content collapse">
					<div class="modal-body">
						<h4 class="mb-3">Delete post</h4>
						<p>Are you sure you want to remove this post?</p>
					</div>
					<div class="modal-footer justify-content-center collapse show">
						<button type="button" class="btn btn-secondary" data-action="load-post" data-bs-toggle="collapse" data-bs-target="#modal-post, #modal-delete">Go Back</button>
						<button type="button" class="btn btn-warning" data-action="delete-post">Delete <i class="bi bi-trash-fill"></i></button>
					</div>
					<div class="collapse" id="post-delete-ok">
						<div class="card card-body w-100 bg-success text-white">Message has been updated succesfully!</div>
					</div>
					<div class="collapse" id="post-delete-err">
						<div class="card card-body w-100 bg-danger text-white">Something has gone wrong :(</div>
					</div>
				</div>
			</div>
		</div>

		<header class="bg-dark text-white">
			<div class="container-fluid px-2 px-sm-4 py-2">
				<h1 class="fw-light text-center text-sm-start">Blog with API</h1>
			</div>
		</header>
		<main>
			<div class="container">
				<div class="row">
					<div class="col-12">
						<h2 class="fw-normal border-2 border-bottom mt-4 mb-2 py-2">Blog posts</h2>
					</div>
				</div>
				<div class="row" id="post-card-grid">
					<!-- Load post cards dinamically with JS -->
				</div>
				<div class="row">
					<div class="col-12 p-3 d-flex justify-content-center align-items-center gap-3">
						<nav id="navigation" aria-label="navigation">
							<ul class="pagination">
								<li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
								<li class="page-item"><a class="page-link" href="#">1</a></li>
								<li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
							</ul>
						</nav>
					</div>
				</div>
			</div>
		</main>
	</body>
</html>
