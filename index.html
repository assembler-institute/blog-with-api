<!DOCTYPE html>
<html lang="en" class="preparation">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Blog</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend&display=swap"
      rel="stylesheet"
    />
  </head>
  <body id="scrollableElement">
    <header class="navbar navbar-dark bg-dark shadow-sm sticky-top">
      <div class="container-fluid header-background-img">
        <a class="navbar-brand" href="#"> <h1 class="display-6">My Blog</h1></a>
      </div>
    </header>
    <main>
      <div class="my-3">
        <div class="container">
          <div class="card bg-dark">
            <h1 class="display-5 text-center text-white">My Posts:</h1>
          </div>
        </div>
      </div>
      <!-- Posts container -->
      <section class="my-3" id="posts-container">
        <div class="container">
          <div class="row row-cols-1 row-cols-md-4 g-4"></div>
        </div>
      </section>
    </main>

    <!-- Posts Modal -->
    <div
      class="modal fade"
      id="postModal"
      tabindex="-1"
      aria-labelledby="postModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="text-center" id="spinner-container">
          <div
            class="spinner-border justify-content-center my-own-spinner"
            role="status"
          ></div>
        </div>
        <div class="modal-content" style="display: none" id="postModalContent">
          <div class="modal-header bg-dark text-white">
            <h5 class="modal-title col-11 text-center" id="postModalLabel">
              Modal title
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row">
                <div class="col-6 col-md-4">
                  <img
                    src="./assets/img/profile-pic.jpg"
                    class="img-thumbnail"
                    alt=""
                  />
                  <p><span>User: </span><span id="username"></span></p>
                  <p><span>Email: </span> <span id="userEmail"></span></p>
                </div>
                <div class="col"><p id="postModalText"></p></div>
              </div>
            </div>
          </div>
          <div class="modal-footer bg-light">
            <button
              type="button"
              class="btn btn-outline-primary"
              id="openComments"
            >
              <span id="commentsCount"></span>
              <span>Comments</span>
            </button>
            <button
              type="button"
              class="btn btn-outline-secondary"
              id="editPost"
            >
              <span class="material-icons"> edit </span>
              Edit Post
            </button>
            <button
              type="button"
              class="btn btn-outline-danger"
              data-bs-target="#deleteModal"
              data-bs-toggle="modal"
            >
              <span class="material-icons">delete</span>
              Delete Post
            </button>
          </div>
          <div
            class="modal-comments collapse overflow-auto"
            id="commentsCollapse"
          ></div>
        </div>
      </div>
    </div>
    <!-- Edit Modal -->
    <div
      class="modal fade higher-fade"
      id="editModal"
      tabindex="-1"
      aria-labelledby="editModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content higher-content" id="editModalContent">
          <div class="modal-header bg-dark text-white">
            <h3 class="modal-title col-11 text-center">Edit Post</h3>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
              style="color: white"
            ></button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
              <form id="editForm">
                <div class="mb-3">
                  <label for="validationDefault01" class="form-label"
                    >Title</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="postEditTitle"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="validationDefault02" class="form-label"
                    >Body</label
                  >
                  <textarea
                    class="form-control"
                    id="postEditBody"
                    rows="4"
                    required
                  ></textarea>
                </div>
                <div class="mb-3 col-2">
                  <label for="validationDefault03" class="form-label"
                    >User ID</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="postEditUserId"
                    required
                  />
                </div>
                <div class="modal-footer">
                  <button
                    type="submit"
                    class="btn btn-outline-success"
                    id="saveEdit"
                  >
                    <span class="material-icons"> save </span>
                    Save Changes
                  </button>
                  <button
                    type="button"
                    class="btn btn-outline-secondary"
                    data-bs-dismiss="modal"
                  >
                    <span class="material-icons"> undo </span>
                    Cancel
                  </button>
                </div>
              </form>
            </div>
          </div>
          <div
            class="modal-comments collapse overflow-auto"
            id="commentsCollapse"
          ></div>
        </div>
      </div>
    </div>
    <!-- Delete modal dialog -->
    <div
      class="modal fade higher-fade"
      id="deleteModal"
      aria-hidden="true"
      aria-labelledby="..."
      tabindex="-1"
    >
      <div class="modal-dialog modal-sm modal-dialog-centered">
        <div class="modal-content higher-content">
          <div class="modal-header bg-dark text-white">
            <h3 class="modal-title col-11 text-center" id="deleteModalLabel">
              <span class="material-icons"> warning </span> Warning
              <span class="material-icons"> warning </span>
            </h3>
          </div>
          <div class="modal-body">
            Are you sure you want to delete this post? This change is permanent!
          </div>
          <div class="modal-footer">
            <button type="button" class="btn" data-bs-dismiss="modal">
              <span class="material-icons"> undo </span>
              Cancel
            </button>
            <button
              id="deletePost"
              type="button"
              class="btn btn-danger"
              data-bs-dismiss="modal"
            >
              <span class="material-icons">delete</span>
              Delete Post
            </button>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
    crossorigin="anonymous"
  ></script>
  <script src="./assets/js/main.js" defer></script>
</html>
